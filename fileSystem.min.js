"use strict";function _instanceof(e,n){return null!=n&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function _classCallCheck(e,n){if(!_instanceof(e,n))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var FileSystem=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"readFileAsDataURL",value:function e(n){return new Promise(function(e,t){var r=new FileReader;if(n==["object Blob"]||"[object File]"==n)r.readAsDataURL(n);else if(window.fetch)fetch(n).then(function(e){return e.blob()}).then(function(e){return r.readAsDataURL(e)});else{var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("GET",n,!0),o.responseType="blob",o.onload=function(){r.readAsDataURL(o.response)},o.send(null)}r.onload=function(n){e(n.target.result)},r.onerror=function(){t("Failed to read file")}})}},{key:"readFile",value:function e(n){return new Promise(function(e,t){if(window.fetch)window.fetch(n).then(function(e){return e.text()}).then(function(n){e(n)}).catch(function(e){t(e)});else{var r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open("GET",n,!0),r.responseType="text",r.onload=function(){e(r.response)},r.onerror=function(){t("Failed to read file")},r.send(null)}})}},{key:"createFile",value:function e(n,t,r){var o=new Blob([n],{type:t}),a=window.URL||window.webkitURL,i=a.createObjectURL(o),c=document.createElement("a");c.setAttribute("href",i),c.setAttribute("download",r),c.click(),c.remove(),a.revokeObjectURL(i)}}]),e}();
